var themen1 = ["Musik", "Videospiele", "Serien","Pokemon", "Deutsche Influencer", "Star Wars"];
var fragenKatalog1 = [
    "Welches Instrument hat traditionell sechs Saiten und wird oft in der klassischen Musik sowie in verschiedenen Genres wie Jazz, Blues und Rock verwendet?",
    "Welcher Komponist kreierte Die Zauberflöte?",
    "Wer war der Lead-Sänger der britischen Band Queen und ist bekannt für seine außergewöhnliche Stimmvielfalt und Bühnenpräsenz?",
    "Was ist eine Arie?",
    "Wie viele Tasten besitzt ein Standard-Klavier?", 

    "Welche Materialien braucht man um eine Fackel zu craften in Minecraft?",
    "Welches Spiel, das von Rockstar Games entwickelt wurde und 2013 veröffentlicht wurde, ist für seine offene Spielwelt, seine Handlungsfreiheit und seine kriminellen Handlungen bekannt?",
    "Welches Videospiel, das von Hidetaka Miyazaki entwickelt wurde und 2011 veröffentlicht wurde, ist bekannt für seine hohe Schwierigkeit, seine dichte Atmosphäre und seine mysteriöse Erzählweise?",
    "Welche beliebte Spielereihe, entwickelt von Nintendo, dreht sich um ein Fantasy-Land namens Hyrule?",
    "Wer ist der Schöpfer der Videospielreihe Metal Gear Solid, die für ihre komplexe Handlung, Stealth-Gameplay und cineastischen Inszenierungen bekannt ist?",

    "In welcher Zeit spielt Stranger Things?",
    "Nenne mir zwei der vier Geschwister aus Malcolm mittendrin.",
    "Wo arbeitet Hank aus Breaking Bad?",
    "Wieviele Kinder hat Francis Frank Gallagher in der Serie Shameless?",
    "Scrubs: Wie heißt Dr. Kelsos Lieblingscocktail?",

    "Nenne mir ein Typ der sehr effektiv gegen Wasser ist.",
    "Was sind shiny Pokemon?",
    "Wieviele Formen hat Icognito?",
    "Welches Pokémon blockiert in Hoenn den Eingang zur Baumhausen-Arena?",
    "Welches Pokemon hat die besten Basiswerte und gilt so als stärkstes Pokemon?",

    "Wie heißt das Zwillingsduo was vor allem auf Musical.ly groß wurde?",
    "Nenne mir einen Influencer der auf Madeira lebt.",
    "Welche große deutsche Influencerin kommt aus Karlsruhe und kennt man vor allem durch Workoutvideos auf Youtube?",
    "Welcher Deutsche Youtuber und Streamer heißt mit bürgerlichen Namen Erik Range.",
    "Wer waren die vier Hauptakteure bei der Longboardtour durch Deutschland 2014?",

    "Welche Farbe hat das Lichtschwert von Imperator Palpatine?",
    "Wie heißt das berühmte Raumschiff von Han Solo?",
    "Mit wem ist Rey verwandt?",
    "Wann wurde Star Wars Episode 1 gedreht?",
    "Was war Ahsokas Spitzname für Anakin?"
];

var themen2 = ["Wissenschaft", "Musik", "Videospiele"," Deutsche Influencer", "Filme", "Deutschland", "Geographie"];
var fragenKatalog2 = [
    "Welche chemische Verbindung ist für das Grundgerüst des menschlichen Körpers verantwortlich?",
    "Wer formulierte die berühmte Gleichung E=mc² und was bedeutet sie?",
    "Welches ist das kleinste Teilchen im Atomkern?",
    "Die Hauptfunktion der Mitochondrien in einer Zelle besteht darin, Energie in Form von ATP (Adenosintriphosphat) durch den Prozess der Zellatmung zu produzieren.",
    "Welches astronomische Phänomen wird durch die Kollision von Neutronensternen erzeugt?", 

    "Wer komponierte die berühmte Klaviersonate Für Elise?",
    "Welches Musikinstrument wird oft als Königin der Instrumente bezeichnet?",
    "Welches berühmte Musikstück beginnt mit den Worten O Fortuna und ist Teil einer mittelalterlichen Sammlung von Gedichten?",
    "Nenne mir 3 Metren",
    "Welcher russische Komponist schuf das berühmte Werk Die Bilder einer Ausstellung?",

    "Welches Videospiel wurde 1985 veröffentlicht und ist eines der bekanntesten Jump-and-Run-Spiele?",
    "Welches Videospiel, das von Mojang entwickelt wurde, ermöglicht es den Spielern, eine Welt aus Blöcken zu erschaffen und zu erkunden?",
    "Welches Spiel wurde von Hideo Kojima entwickelt und ist bekannt für seine komplexe Handlung und Stealth-Gameplay?",
    "Welches Videospiel-Franchise wurde von Bethesda Softworks entwickelt und spielt in einer postapokalyptischen Welt, die von Nuklearkriegern zerstört wurde?",
    "Welches Videospiel wurde von CD Projekt Red entwickelt und basiert auf einer Buchreihe des polnischen Autors Andrzej Sapkowski?",

    "Welcher deutsche Influencer ist bekannt für seine Comedy-Videos auf der Plattform YouTube und seine Rolle als Der Osterhase?",
    "Welche deutsche Influencerin erlangte Popularität durch ihre Beauty-Tutorials auf YouTube und ist auch als Unternehmerin im Bereich Kosmetik tätig?",
    "Welcher deutsche Influencer ist für seine humorvollen Vlogs und Lifestyle-Inhalte auf YouTube bekannt und wurde auch als Schauspieler aktiv?",
    "Welcher deutsche Influencer und Musiker ist bekannt für seine Musikkarriere, insbesondere im Bereich Rap und Hip-Hop, sowie für seine Präsenz auf Social-Media-Plattformen?",
    "Welche deutsche Influencerin wurde bekannt durch ihre Mode- und Lifestyle-Inhalte auf Instagram und YouTube und hat sich auch als Unternehmerin einen Namen gemacht?",

    "Wer spielt die Hauptrolle in der Filmtrilogie Der Herr der Ringe, die auf den Büchern von J.R.R. Tolkien basiert?",
    "Welcher Film aus dem Jahr 1977 war der erste Teil einer der erfolgreichsten Filmfranchises aller Zeiten und wurde von George Lucas inszeniert?",
    "Welcher Regisseur inszenierte den Science-Fiction-Film Inception aus dem Jahr 2010, der für seine komplexe Handlung und visuellen Effekte bekannt ist?",
    "Welcher Film gewann den Oscar für den besten Film im Jahr 1994 und erzählt die Geschichte eines Mannes, der eine Reise durch die USA unternimmt, nachdem er aus dem Gefängnis entlassen wurde?",
    "Welcher Film gewann den Oscar für den besten Film im Jahr 2016 und handelt von einer Gruppe von Astronauten, die auf einem lebensfeindlichen Planeten gestrandet sind?",

    "Welche ist die Hauptstadt von Deutschland?",
    "Wer war der erste Bundeskanzler der Bundesrepublik Deutschland nach dem Zweiten Weltkrieg?",
    "Welcher Fluss bildet einen Teil der natürlichen Grenze zwischen Deutschland und Frankreich?",
    "Wie heißt der höchste Berg Deutschlands und auf welchem Bundesland liegt er?",
    "Welches historische Ereignis führte zur Wiedervereinigung Deutschlands im Jahr 1990?",

    "Welcher ist der größte Ozean der Welt?",
    "Welcher ist der längste Fluss der Welt?",
    "Welcher ist der höchste Berg der Welt?",
    "Welches Land hat die meisten Zeitzonen?",
    "Welches ist das größte Land der Welt (nach Fläche)?"
];

var wrongAudio = new Audio("/sound/wrong.mp3");
var rightAudio = new Audio("/sound/right.mp3")

var aktiveThemen = themen2;
var aktiveFragen = fragenKatalog2;
p1Points = 0;
p2Points = 0;
p3Points = 0;
p4Points = 0;
activeValue = 0;

$( document ).ready(function() {

    SetPlayField();
    
});

function SetPlayField(){
    prepareThemenFelder();
    $("#frageFeld").toggle();

    $(".feld").on("click", function () {
        var clickedBtnID = $(this).attr('id'); 
        
        $(this).addClass("frageActive");
        changeFeld();
        showFrage(this.id);
    });

    $(".playercard").on("click", function () {
        $("#playerActive").removeAttr("id");
        $(this).children().eq(0).attr("id","playerActive");
    })
}

function changeFeld(){
    $("#playfield").toggle();
    $("#frageFeld").toggle();
}

function showFrage(feld){
    var thema = parseInt(feld.substring(1,2));
    var value = parseInt(feld.substring(3,4));
    var frage = (thema * 5 + value) - 1;

    $("#thema").html(aktiveThemen[thema]);
    $("#frage").html(aktiveFragen[frage]);
    $("#punkte").html(value*20 + " Punkte");

    activeValue = value*20;
}

function prepareThemenFelder(){

    for(var i = 0; i < 7; i++){
       $(".kategorie").eq(i).html(aktiveThemen[i]);
    }
}

function addPoints(richtig){

    var player = $("#playerActive").parent()[0].id;

    if(richtig == true){
        rightAudio.play();

        switch(player){
            case "p1":
                p1Points += activeValue;
                $("#playerActive").parent().children().eq(1).children().eq(1).html(p1Points);
                break;
            case "p2":
                p2Points += activeValue;
                $("#playerActive").parent().children().eq(1).children().eq(1).html(p2Points);
                break;
            case "p3":
                p3Points += activeValue;
                $("#playerActive").parent().children().eq(1).children().eq(1).html(p3Points);
                break;
            case "p4":
                p4Points += activeValue;
                $("#playerActive").parent().children().eq(1).children().eq(1).html(p4Points);
                break;
            default:
                break;
        }
    } else {
        wrongAudio.play();
    }

    nextPlayer(player.substring(1,2));
    changeFeld();
}

function nextPlayer(curPlayer){
    console.log(curPlayer);
    $("#playerActive").removeAttr("id");

    if(curPlayer == 4) curPlayer = 0;
    $("#players").children().eq(curPlayer).children().eq(0).attr("id","playerActive");

}

function onButtonLeft(player){
    var btn = $("#players").children().eq(player).children().eq(1).children().eq(0);

    btn.children().toggle();
    btn.attr("class","jokerUsed");

    activeValue = activeValue*2;
    
}

function onButtonRight(player){
    var btn = $("#players").children().eq(player).children().eq(1).children().eq(2);

    btn.children().toggle();
    btn.attr("class","jokerUsed");
}